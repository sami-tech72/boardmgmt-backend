<div class="app-shell" [class.app-shell--sidebar-open]="sidebarOpen">
  <div class="app-shell__scrim" *ngIf="sidebarOpen" (click)="closeSidebar()" aria-hidden="true"></div>

  <aside class="app-shell__sidebar" aria-label="Primary">
    <div class="app-shell__brand">
      <button type="button" class="app-shell__close" (click)="closeSidebar()" aria-label="Close navigation">
        <i class="fas fa-times"></i>
      </button>
      <div class="app-shell__brand-icon">
        <i class="fas fa-chess-king"></i>
      </div>
      <div class="app-shell__brand-text">
        <span class="app-shell__brand-title">Board Portal</span>
        <span class="app-shell__brand-subtitle">Management Suite</span>
      </div>
    </div>

    <nav class="app-shell__nav" aria-label="Main navigation">
      <ul>
        <li *ngIf="can(AppModule.Dashboard)">
          <a routerLink="/dashboard" routerLinkActive="active" (click)="onNavigate()">
            <i class="fas fa-th-large"></i>
            <span>Dashboard</span>
          </a>
        </li>
        <li *ngIf="can(AppModule.Meetings)">
          <a routerLink="/meetings" routerLinkActive="active" (click)="onNavigate()">
            <i class="fas fa-calendar-alt"></i>
            <span>Meetings</span>
          </a>
        </li>
        <li *ngIf="can(AppModule.Documents)">
          <a routerLink="/documents" routerLinkActive="active" (click)="onNavigate()">
            <i class="fas fa-folder-open"></i>
            <span>Documents</span>
          </a>
        </li>
        <li *ngIf="can(AppModule.Votes)">
          <a routerLink="/voting" routerLinkActive="active" (click)="onNavigate()">
            <i class="fas fa-poll-h"></i>
            <span>Voting</span>
          </a>
        </li>
        <li *ngIf="can(AppModule.Reports)">
          <a routerLink="/reports" routerLinkActive="active" (click)="onNavigate()">
            <i class="fas fa-chart-bar"></i>
            <span>Reports</span>
          </a>
        </li>
        <li *ngIf="can(AppModule.Messages)">
          <a routerLink="/messages" routerLinkActive="active" (click)="onNavigate()">
            <i class="fas fa-comments"></i>
            <span>Messages</span>
          </a>
        </li>
        <li *ngIf="can(AppModule.Users)">
          <a routerLink="/users" routerLinkActive="active" (click)="onNavigate()">
            <i class="fas fa-user-friends"></i>
            <span>Users</span>
          </a>
        </li>
        <li *ngIf="can(AppModule.Settings)">
          <a routerLink="/settings/roles" routerLinkActive="active" (click)="onNavigate()">
            <i class="fas fa-sliders-h"></i>
            <span>Settings</span>
          </a>
        </li>
        <li *ngIf="can(AppModule.Settings)">
          <a routerLink="/roles" routerLinkActive="active" (click)="onNavigate()">
            <i class="fas fa-user-shield"></i>
            <span>Roles</span>
          </a>
        </li>
      </ul>
    </nav>

    <div class="app-shell__sidebar-footer">
      <button class="app-shell__logout" (click)="onLogout($event)">
        <i class="fas fa-sign-out-alt"></i>
        <span>Logout</span>
      </button>
      <div class="app-shell__version">v1.0 Â· Empowered Boards</div>
    </div>
  </aside>

  <div class="app-shell__main">
    <header class="app-shell__header">
      <button type="button" class="app-shell__menu" (click)="toggleSidebar()" aria-label="Toggle navigation">
        <span class="app-shell__menu-icon"></span>
      </button>
      <div class="app-shell__header-text">
        <span class="app-shell__header-label">Board Portal</span>
        <span class="app-shell__header-caption">A cohesive workspace for executive collaboration</span>
      </div>
    </header>

    <main class="app-shell__content">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>
