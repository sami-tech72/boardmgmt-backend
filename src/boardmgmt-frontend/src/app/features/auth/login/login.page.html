<div class="container-fluid h-100 login-page">
  <div class="row h-100">
    <!-- Left Side - Branding -->
    <div class="col-lg-6 d-none d-lg-flex align-items-center justify-content-center bg-primary">
      <div class="text-center text-white">
        <div class="brand-logo mb-4">
          <i class="fas fa-users-cog fa-5x mb-3"></i>
          <h1 class="display-4 fw-bold">Board Management</h1>
          <p class="lead">Secure • Efficient • Professional</p>
        </div>
        <div class="features-list">
          <div class="feature-item mb-3">
            <i class="fas fa-shield-alt me-2"></i> <span>Enterprise-grade Security</span>
          </div>
          <div class="feature-item mb-3">
            <i class="fas fa-calendar-alt me-2"></i> <span>Meeting Management</span>
          </div>
          <div class="feature-item mb-3">
            <i class="fas fa-file-alt me-2"></i> <span>Document Control</span>
          </div>
          <div class="feature-item">
            <i class="fas fa-mobile-alt me-2"></i> <span>Mobile Access</span>
          </div>
        </div>
      </div>
    </div>
    <!-- Right Side - Login Form -->
    <div class="col-lg-6 d-flex align-items-center justify-content-center">
      <div class="login-form-container">
        <div class="text-center mb-4">
          <h2 class="fw-bold text-dark">Welcome Back</h2>
          <p class="text-muted">Please sign in to your account</p>
        </div>
        <!-- IMPORTANT: template-driven form with ngForm & ngModel -->
        <form
          #loginForm="ngForm"
          (ngSubmit)="onSubmit(loginForm)"
          class="needs-validation"
          novalidate
        >
          <div class="mb-3">
            <label for="email" class="form-label">Email Address</label>
            <div class="input-group">
              <span class="input-group-text"><i class="fas fa-envelope"></i></span>
              <input
                type="email"
                class="form-control"
                id="email"
                name="email"
                required
                [(ngModel)]="email"
                #emailCtrl="ngModel"
              />
              <div
                class="invalid-feedback d-block"
                *ngIf="emailCtrl.invalid && (emailCtrl.dirty || emailCtrl.touched)"
              >
                Please provide a valid email address.
              </div>
            </div>
          </div>
          <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <div class="input-group">
              <span class="input-group-text"><i class="fas fa-lock"></i></span>
              <input
                [type]="showPassword ? 'text' : 'password'"
                class="form-control"
                id="password"
                name="password"
                required
                minlength="6"
                [(ngModel)]="password"
                #pwdCtrl="ngModel"
              />
              <button class="btn btn-outline-secondary" type="button" (click)="togglePassword()">
                <i
                  class="fas"
                  [class.fa-eye]="!showPassword"
                  [class.fa-eye-slash]="showPassword"
                ></i>
              </button>
            </div>
            <div
              class="invalid-feedback d-block"
              *ngIf="pwdCtrl.invalid && (pwdCtrl.dirty || pwdCtrl.touched)"
            >
              Please provide your password (min 6 characters).
            </div>
          </div>
          <div class="mb-3 form-check">
            <input
              type="checkbox"
              class="form-check-input"
              id="rememberMe"
              name="rememberMe"
              [(ngModel)]="rememberMe"
            />
            <label class="form-check-label" for="rememberMe">Remember me</label>
          </div>
          <button
            type="submit"
            class="btn btn-primary w-100 mb-3"
            [disabled]="loginForm.invalid || loading"
          >
            <i class="fas fa-sign-in-alt me-2"></i> <span *ngIf="!loading">Sign In</span>
            <span *ngIf="loading">Signing in…</span>
          </button>
          <div class="text-center">
            <a
              href="#"
              class="text-decoration-none"
              data-bs-toggle="modal"
              data-bs-target="#forgotPasswordModal"
            >
              Forgot your password?
            </a>
          </div>
        </form>
        <div class="mt-4 text-center">
          <small class="text-muted">
            Protected by enterprise-grade security
            <i class="fas fa-shield-alt text-success ms-1"></i>
          </small>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Forgot Password Modal (requires Bootstrap JS or ng-bootstrap) -->
<div class="modal fade" id="forgotPasswordModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <form #forgotForm="ngForm" (ngSubmit)="sendResetLink(forgotForm)">
        <div class="modal-header">
          <h5 class="modal-title">Reset Password</h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="resetEmail" class="form-label">Email Address</label>
            <input
              type="email"
              class="form-control"
              id="resetEmail"
              name="resetEmail"
              required
              [(ngModel)]="resetEmail"
              #resetEmailCtrl="ngModel"
            />
            <div
              class="invalid-feedback d-block"
              *ngIf="resetEmailCtrl.invalid && (resetEmailCtrl.dirty || resetEmailCtrl.touched)"
            >
              Please enter a valid email to receive the reset link.
            </div>
          </div>
          <p class="text-muted small">
            Enter your email address and we'll send you a link to reset your password.
          </p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button
            type="submit"
            class="btn btn-primary"
            [disabled]="forgotForm.invalid || sendingReset"
          >
            Send Reset Link
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
